<policies>
  <inbound>
    <base />
    <!-- Optional JWT validation -->
    <!--
    <validate-jwt header-name="Authorization" failed-validation-httpcode="401" failed-validation-error-message="Unauthorized">
      <openid-config url="https://login.microsoftonline.com/{tenant-id}/v2.0/.well-known/openid-configuration" />
      <required-claims>
        <claim name="aud">
          <value>{audience-app-id}</value>
        </claim>
      </required-claims>
    </validate-jwt>
    -->

    <!-- Basic rate limit per subscription as a safeguard -->
    <rate-limit calls="60" renewal-period="60" />

    <!-- Require subscription key -->
    <check-header name="Ocp-Apim-Subscription-Key" failed-check-httpcode="401" failed-check-error-message="Subscription key required" />
  </inbound>
  <backend>
    <base />
  </backend>
  <outbound>
    <base />
  </outbound>
  <on-error>
    <base />
  </on-error>
</policies>
